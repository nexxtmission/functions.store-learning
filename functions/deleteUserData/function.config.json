{
    "name": "deleteUserData",
    "description": "Remove data from Cloud Firestore, Realtime Database, and/or Cloud Storage when a user account is deleted.",
    "tags": [],
    "trigger": {
        "provider": "auth",
        "event": "user.delete"
    },
    "env": [
        {
            "name": "CONFIG",
            "description": "The function config",
            "type": "json",
            "required": true,
            "default": {    
                "firestorePaths": [],
                "firestoreDeleteRecursive": false,
                "realtimeDatabaseName": "",
                "realtimeDatabasePaths": [],
                "storageDefaultBucketName": "",
                "storagePaths": []
            },
            "schema": {
                "type": "object",
                "properties": {
                    "firestorePaths": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "isValidFirestoreDocumentPath": true
                        }
                    },
                    "firestoreDeleteRecursive": {
                        "type": "boolean",
                        "default": false
                    },
                    "realtimeDatabaseName": { "type": "string" },
                    "realtimeDatabasePaths": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "isValidDocumentPath": true
                        }
                    },
                    "storageDefaultBucketName": {
                        "type": "string",
                        "isValidBucketName": true
                    },
                    "storagePaths": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "isValidFileSystemPath": true
                        }
                    }
                }
            }
        }
    ]
}
